    package dao;

    import java.sql.Connection;
    import java.sql.DriverManager;
    import java.sql.SQLException;

    public class DBConnection {

        // Connection URL, username, and password for the database.
        private static final String URL = "jdbc:mysql://localhost:3306/healthcare_db?useSSL=false&serverTimezone=UTC";
        private static final String USERNAME = "root";
        private static final String PASSWORD = ""; // For production, externalize credentials securely

        // Static block to load JDBC driver once when the class is loaded
        static {
            try {
                // Register MySQL driver (this is typically automatic in newer versions of MySQL Connector/J)
                Class.forName("com.mysql.cj.jdbc.Driver");
                System.out.println("[DBConnection] MySQL JDBC Driver registered.");
            } catch (ClassNotFoundException e) {
                System.err.println("[DBConnection] MySQL JDBC Driver not found.");
                e.printStackTrace();
                // Fail fast if the driver is not found
                throw new ExceptionInInitializerError(e);
            }
        }

        /**
         * Provides a connection to the MySQL database.
         * @return Connection object
         * @throws SQLException if a database access error occurs
         */
        public static Connection getConnection() throws SQLException {
            try {
                // Establish connection to the database
                return DriverManager.getConnection(URL, USERNAME, PASSWORD);
            } catch (SQLException e) {
                System.err.println("[DBConnection] Connection to the database failed.");
                e.printStackTrace();
                // Rethrow the exception to be handled by the caller
                throw e;
            }
        }
    }
